# Videoslider

Тестовое задание: ТЗ1

реализовать ленту видео (видео могут быть локальным или из интернета) с функцией автоплей - при скроле ленты должно автоматически начинаться проигрывание наиболее видимого видео

добавить возможность отключить/включить звук - если звук включен на одном видео, то он должен воспроизодится на следующем, если нет то наоборот(аналогично instagram)

для архитектуры должен использоваться built_redux

## Текущее состояние

В state храниться текущее состояние всей программы и каждого конкретного контроллера. Для иммитации загрузки списка изображений в middleware настроен таймер, который через 5 секунд шлет actions.loaded с тестовыми url. В демо варианте 3 видео: из assets, из интернета, из интернета не существующее (для проверки на ошибки)

Контроллеры инициализируются в \_VideoSliderWidgetState и сохраняются в кеше по url (т.е. в случае 2-х одинаковых url может сломаться и проверки нет на этот случай), соотв. при Dispose всем ранее созданным тоже зовем dispose. Для того, чтобы запускалось/останавливалось изображение и дизаблился звук обязательно надо не забыть при создании CarouselSlider.items указывать key у самого верхнего элемента (Column в данном примере), иначе Flutter не поймет что что-то изменилось (громоксть или play/pause).

В тестах есть тесты на store на уровне создали, поменяли страницу, проверили что предыдущее видео на паузе, текущее исполняется.

Что не нравится и надо исправить

- Если у ChewieController.showControls = false - перестают показываться ошибки, хотя по идее должны. Возможно надо отказаться от ChewieController и оставить только стандартный VideoPlayerController (по мотивам примеров в Gallery).

## Кодогенерация

Чтобы не забыть, при изменении в store надо запускать: flutter pub run build_runner build
